<div>
  <app-top-bar></app-top-bar>
</div>
<div class="row" style="background: #fcfcfc">
  <div class="col-md-2">
    <app-side-bar></app-side-bar>
  </div>
  <div class="col-md-10 scrollable-section">
    <div class="col-md-12 d-flex justify-content-center mt-5 mb-5"><h1><strong>Registered User Details</strong></h1></div>
    <div class="card card-body mt-5 me-5 ms-4 shadow" style="border: none">
      <h4><strong>User Information</strong></h4>
      <table class="table table-borderless table-hover">
        <thead class="border-bottom">
        <tr>
          <th>S.N.</th>
          <th>Name</th>
          <th>E-mail</th>
          <th>Type</th>
          <th class="d-flex justify-content-center">Action</th>
        </tr>
        </thead>
        <tbody [formGroup]="userForm">
        <tr *ngFor="let users of userForm.get('userRole')?.value; let i = index" formArrayName="userRole">
          <ng-container [formGroupName]="i">
            <ng-container *ngIf="users.is_approved">
                          <td>{{i + 1}}</td>
                          <td>{{users.name}}</td>
                          <td>{{users.email}}</td>
                          <td>{{users.roles}}</td>
              <td class="d-flex justify-content-center">
                <select class="form-select-sm me-3" formControlName="roles" (change)="updateRole(users.id, i)">
                  <option value="null" hidden>select Role</option>
                  <option value="Admin" [selected]="users.roles === 'Admin'">Admin</option>
                  <option value="User" [selected]="users.roles === 'User'">User</option>
                </select>
                <!--              <button class="btn btn-primary me-3" style="background: #455be1">Admin</button>-->
                <div ngbTooltip="Delete">
                  <button class="btn btn-danger fa fa-solid fa-trash" (click)="deleteUser(users.id)"></button>
                </div>
              </td>
            </ng-container>
          </ng-container>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
