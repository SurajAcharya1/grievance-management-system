<ng-container *ngIf="!isAdmin; else el">
  <div class="row">
    <div [ngClass]="hasPressed ? 'col-md-7 scrollable-section ps-5' : 'col-md-9 scrollable-section ps-5'">
      <div class="mt-5 mb-5" style="width: 100%; border: none; cursor: pointer" *ngFor="let article of articles; let i = index"
           (click)="getRelatedArticles(article?.id, article?.title)">
        <div class="card card-body shadow card-main" [ngStyle]="{'background' : article?.id === relatedArticleId ? '#eceefd' : ''}">
          <div class="row">
            <div class="col-md-1 align-content-center">
              <div class="ms-3">
                <div class="d-flex justify-content-center" style="transform: scale(1.5,1.25)"><a class="fa fa-solid fa-arrow-up" style="text-decoration: none" (click)="upVote(article.id)"></a></div>
                <div class="d-flex justify-content-center mt-1 mb-1"><span style="font-size: 17px; font-weight: 600">{{article?.vote}}</span></div>
                <div class="d-flex justify-content-center" style="transform: scale(1.5,1.25)"><a class="fa fa-solid fa-arrow-down" style="text-decoration: none" (click)="downVote(article.id)"></a></div>
              </div>
            </div>
            <div class="col-md-11">
              <div class="pe-5">
                <div class="row">
                  <div class="col-md-11">
                    <h4 class="card-title mb-3" style="font-family: 'poppins', sans-serif; color: #4f4d4d"><b>{{article?.title}}</b></h4>
                  </div>
                  <div *ngIf="article?.author === loggedInUserId"
                       class="col-md-1 d-flex justify-content-end">
                    <span class="fa-solid fa-flag" ngbTooltip="Your Article" style="color: #3d5af1"></span>
                  </div>
                </div>
                <p class="card-text" style="font-family: 'poppins', sans-serif; color: #4f4d4d; font-size: 18px; text-align: justify">{{article?.content}}</p>
              </div>
              <hr>
              <div class="row">
                <div class="col-md-5" *ngIf="isAdmin">
                  <strong style="color: #3d5af1">Posted By: </strong> <span>{{article?.author_name | titlecase}}</span>
                </div>
                <div class="col-md-7">
                  <strong><span style="color: #3d5af1">Posted on</span>: </strong>{{article?.created_at | date : 'MMM dd, yyyy | hh:mm:ss a'}}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div [ngClass]="hasPressed ? 'col-md-5 scrollable-section ps-5' : 'col-md-3 scrollable-section'">
      <div class="d-flex justify-content-center">
        <button class="btn btn-primary mt-5 mb-4" style="width: 70%; background: #3d5af1;" [routerLink]="['/post-grievance']">+ Post new Grievance</button>
      </div>
      <div class="card shadow p-3 d-flex justify-content-center me-3" *ngIf="hasPressed" style="border: none">
        <div class="row">
          <div style="text-align: justify" class="col-md-10">
            <h6 style="text-align: justify">Articles similar to <b>{{relatedArticles[relatedArticles.length - 1]}}</b></h6>
          </div>
          <div style="text-align: end; cursor: pointer" class="col-md-2">
            <span (click)="close()" class="text-danger">close</span>
          </div>
        </div>
        <div class="card-body scrollable-section-similar-article">
          <div *ngFor="let similar of relatedArticles; let l = last; let ii = index">
            <div class="card card-body shadow mb-4" *ngIf="!l" style="background: #eceefd">
              <div class="card-body row">
                <div class="col-md-1 align-content-center">
                  <div class="ms-3">
                    <div class="d-flex justify-content-center" style="transform: scale(1.5,1.25)"><a class="fa fa-solid fa-arrow-up" style="text-decoration: none" (click)="upVote(similar.id)"></a></div>
                    <div class="d-flex justify-content-center mt-1 mb-1"><span style="font-size: 17px; font-weight: 600">{{similar?.vote}}</span></div>
                    <div class="d-flex justify-content-center" style="transform: scale(1.5,1.25)"><a class="fa fa-solid fa-arrow-down" style="text-decoration: none" (click)="downVote(similar.id)"></a></div>
                  </div>
                </div>
                <div class="col-md-11">
                  <div class="pe-5">
                    <h4 class="card-title mb-3" style="font-family: 'poppins', sans-serif; color: #4f4d4d"><b>{{similar?.title}}</b></h4>
                    <p class="card-text" style="font-family: 'poppins', sans-serif; color: #4f4d4d; font-size: 18px; text-align: justify">{{similar?.content}}</p>
                  </div>
                  <hr>
                  <div>
                    <strong><span style="color: #3d5af1">Posted on</span>: </strong>{{similar?.created_at | date : 'MMM dd, yyyy | hh:mm:ss a'}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
<ng-template #el>
  for admin
</ng-template>
